jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,a,u){return jQuery.easing[jQuery.easing.def](t,e,n,a,u)},easeInQuad:function(t,e,n,a,u){return a*(e/=u)*e+n},easeOutQuad:function(t,e,n,a,u){return-a*(e/=u)*(e-2)+n},easeInOutQuad:function(t,e,n,a,u){return(e/=u/2)<1?a/2*e*e+n:-a/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,a,u){return a*(e/=u)*e*e+n},easeOutCubic:function(t,e,n,a,u){return a*((e=e/u-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,a,u){return(e/=u/2)<1?a/2*e*e*e+n:a/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,a,u){return a*(e/=u)*e*e*e+n},easeOutQuart:function(t,e,n,a,u){return-a*((e=e/u-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,a,u){return(e/=u/2)<1?a/2*e*e*e*e+n:-a/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,a,u){return a*(e/=u)*e*e*e*e+n},easeOutQuint:function(t,e,n,a,u){return a*((e=e/u-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,a,u){return(e/=u/2)<1?a/2*e*e*e*e*e+n:a/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,a,u){return-a*Math.cos(e/u*(Math.PI/2))+a+n},easeOutSine:function(t,e,n,a,u){return a*Math.sin(e/u*(Math.PI/2))+n},easeInOutSine:function(t,e,n,a,u){return-a/2*(Math.cos(Math.PI*e/u)-1)+n},easeInExpo:function(t,e,n,a,u){return 0==e?n:a*Math.pow(2,10*(e/u-1))+n},easeOutExpo:function(t,e,n,a,u){return e==u?n+a:a*(-Math.pow(2,-10*e/u)+1)+n},easeInOutExpo:function(t,e,n,a,u){return 0==e?n:e==u?n+a:(e/=u/2)<1?a/2*Math.pow(2,10*(e-1))+n:a/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,a,u){return-a*(Math.sqrt(1-(e/=u)*e)-1)+n},easeOutCirc:function(t,e,n,a,u){return a*Math.sqrt(1-(e=e/u-1)*e)+n},easeInOutCirc:function(t,e,n,a,u){return(e/=u/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+n:a/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,a,u){var r=1.70158,i=0,c=a;if(0==e)return n;if(1==(e/=u))return n+a;if(i||(i=.3*u),c<Math.abs(a)){c=a;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(a/c);return-(c*Math.pow(2,10*(e-=1))*Math.sin((e*u-r)*(2*Math.PI)/i))+n},easeOutElastic:function(t,e,n,a,u){var r=1.70158,i=0,c=a;if(0==e)return n;if(1==(e/=u))return n+a;if(i||(i=.3*u),c<Math.abs(a)){c=a;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(a/c);return c*Math.pow(2,-10*e)*Math.sin((e*u-r)*(2*Math.PI)/i)+a+n},easeInOutElastic:function(t,e,n,a,u){var r=1.70158,i=0,c=a;if(0==e)return n;if(2==(e/=u/2))return n+a;if(i||(i=u*(.3*1.5)),c<Math.abs(a)){c=a;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(a/c);return e<1?-.5*(c*Math.pow(2,10*(e-=1))*Math.sin((e*u-r)*(2*Math.PI)/i))+n:c*Math.pow(2,-10*(e-=1))*Math.sin((e*u-r)*(2*Math.PI)/i)*.5+a+n},easeInBack:function(t,e,n,a,u,r){return void 0==r&&(r=1.70158),a*(e/=u)*e*((r+1)*e-r)+n},easeOutBack:function(t,e,n,a,u,r){return void 0==r&&(r=1.70158),a*((e=e/u-1)*e*((r+1)*e+r)+1)+n},easeInOutBack:function(t,e,n,a,u,r){return void 0==r&&(r=1.70158),(e/=u/2)<1?a/2*(e*e*(((r*=1.525)+1)*e-r))+n:a/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+n},easeInBounce:function(t,e,n,a,u){return a-jQuery.easing.easeOutBounce(t,u-e,0,a,u)+n},easeOutBounce:function(t,e,n,a,u){return(e/=u)<1/2.75?a*(7.5625*e*e)+n:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+n:a*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,a,u){return e<u/2?.5*jQuery.easing.easeInBounce(t,2*e,0,a,u)+n:.5*jQuery.easing.easeOutBounce(t,2*e-u,0,a,u)+.5*a+n}});var Sketcher=function(t,e,n,a){function u(){M=Q.width,g=Q.height;var t=O.height/g;d.width=M,d.height=g,I=d.getContext("2d"),I.clearRect(0,0,M,g),I.drawImage(Q,0,0),l=I.getImageData(0,0,M,g),I.clearRect(0,0,M,g),m=[];for(var e=0;e<t;e++)I.clearRect(0,0,M,g),I.drawImage(O,0,g*e,M,g,0,0,M,g),m[e]=I.getImageData(0,0,M,g);I.clearRect(0,0,M,g),v=I.createImageData(M,g),j&&s()}function r(t){B=t}function i(t){p=t,s()}function c(){h--,0==h&&("function"==typeof B&&B(),E=!0,u())}function o(t,e){w==t&&y==e||(w=t,y=e,s())}function s(){if(!E)return void(j=!0);j=!1;var t=0,e=255*w,n=M*g*4;if(m[p]){for(var a=m[p].data,u=0;u<n;u+=4)y&&l.data[u]<e?(v.data[u]=a[u],v.data[u+1]=a[u+1],v.data[u+2]=a[u+2],v.data[u+3]=a[u+3]):!y&&l.data[u]>e?(v.data[u]=a[u],v.data[u+1]=a[u+1],v.data[u+2]=a[u+2],v.data[u+3]=a[u+3]):(t=255,v.data[u]=t,v.data[u+1]=t,v.data[u+2]=t,v.data[u+3]=0);I.putImageData(v,0,0)}}function f(){v=null,m=null}var h=2;if("undefined"!=typeof a)var d=document.getElementById(a);else{var d=document.createElement("canvas");d.id=t}var I,M,g,l,v,O=document.createElement("img"),Q=document.createElement("img"),m=[],p=0,w=0,y=1,E=!1,j=!1,B=null;return O.src=e,O.onload=c,Q.src=n,Q.onload=c,{onLoad:r,setThreshold:o,getElement:function(){return d},dispose:f,setDisplayFrame:i}};
